#!/bin/bash

# =================================================================
# ๐ฆ Garuda Ultimate Fusion (GUF) - Installer
# =================================================================
# ูุฐุง ุงูุณูุฑูุจุช ูููู ุจุชุซุจูุช ูุงูุฉ ููููุงุช ุงููุดุฑูุน ุจุดูู ุชููุงุฆู.

set -e

# ุงูุฃููุงู
GREEN='\033[0;32m'
BLUE='\033[0;34m'
NC='\033[0m'

echo -e "${BLUE}=====================================================${NC}"
echo -e "${GREEN}    ูุฑุญุจุงู ุจู ูู ูุซุจูุช Garuda Ultimate Fusion (GUF)    ${NC}"
echo -e "${BLUE}=====================================================${NC}"

# 1. ููุญ ุงูุตูุงุญูุงุช ููุณูุฑูุจุชุงุช ุงููุฑุนูุฉ
chmod +x scripts/*.sh

# 2. ุชุซุจูุช ุงูุจุฑุงูุฌ ุงูููุงูุฆุฉ ููููุฏูุฒ 11
echo -e "\n${BLUE}[1/5] ุฌุงุฑู ุชุซุจูุช ุงูุจุฑุงูุฌ ุงูููุงูุฆุฉ ููููุฏูุฒ 11...${NC}"
./scripts/fusion_core.sh

# 3. ุชูุนูู ุฏุนู ุงููุบุฉ ุงูุนุฑุจูุฉ
echo -e "\n${BLUE}[2/5] ุฌุงุฑู ุฅุนุฏุงุฏ ุฏุนู ุงููุบุฉ ุงูุนุฑุจูุฉ...${NC}"
./scripts/arabic_support.sh

# 4. ุชุซุจูุช ููุฒุฉ ุงุณุชุฎุฑุงุฌ ุงููุญุชููุงุช (ุงูุฒุฑ ุงูุฃููู)
echo -e "\n${BLUE}[3/5] ุฌุงุฑู ุชุซุจูุช ููุฒุฉ 'ุงุณุชุฎุฑุงุฌ ุฅูู ููู ูุตู'...${NC}"
sudo cp scripts/extract_to_txt.py /usr/local/bin/
sudo chmod +x /usr/local/bin/extract_to_txt.py
mkdir -p ~/.local/share/kservices5/ServiceMenus/
cp configs/extract_to_txt.desktop ~/.local/share/kservices5/ServiceMenus/

# 5. ุชุทุจูู ุฅุตูุงุญุงุช VPN ูุงูุชุญุณููุงุช
echo -e "\n${BLUE}[4/5] ุฌุงุฑู ุชุทุจูู ุฅุตูุงุญุงุช VPN ูุงูุชุญุณููุงุช...${NC}"
./scripts/fix_outline_vpn.sh

echo -e "\n${GREEN}=====================================================${NC}"
echo -e "${GREEN}      ๐ ุชู ุงูุงูุชูุงุก ูู ุงูุชุซุจูุช ุจูุฌุงุญ! ๐      ${NC}"
echo -e "${BLUE}      ูุฑุฌู ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฌูุงุฒ ูุชูุนูู ูุงูุฉ ุงูุชุบููุฑุงุช.      ${NC}"
echo -e "${GREEN}=====================================================${NC}"
