#!/bin/bash

# =================================================================
# ๐ฆ Garuda Ultimate Fusion (GUF) - Advanced Installer v2.0
# =================================================================

set -e

# ุงูุฃููุงู
GREEN='\033[0;32m'
BLUE='\033[0;34m'
PURPLE='\033[0;35m'
NC='\033[0m'

echo -e "${BLUE}=====================================================${NC}"
echo -e "${GREEN}    ูุฑุญุจุงู ุจู ูู ุงููุณุฎุฉ ุงููุทูุฑุฉ ูู Garuda Ultimate Fusion    ${NC}"
echo -e "${BLUE}=====================================================${NC}"

# 1. ููุญ ุงูุตูุงุญูุงุช
chmod +x scripts/*.sh configs/*.sh

# 2. ุงูููุฒุงุช ุงูุฃุณุงุณูุฉ (ุงููุณุฎุฉ 1.0)
echo -e "\n${BLUE}[1/7] ุชุซุจูุช ุงูุจุฑุงูุฌ ุงูุฃุณุงุณูุฉ ูุฏุนู ุงูุนุฑุจูุฉ...${NC}"
./scripts/fusion_core.sh
./scripts/arabic_support.sh

# 3. ููุฒุฉ ุงุณุชุฎุฑุงุฌ ุงููุญุชููุงุช (ุงูุฒุฑ ุงูุฃููู)
echo -e "\n${BLUE}[2/7] ุชุซุจูุช ููุฒุฉ 'ุงุณุชุฎุฑุงุฌ ุฅูู ููู ูุตู'...${NC}"
sudo cp scripts/extract_to_txt.py /usr/local/bin/
sudo chmod +x /usr/local/bin/extract_to_txt.py
mkdir -p ~/.local/share/kservices5/ServiceMenus/
cp configs/extract_to_txt.desktop ~/.local/share/kservices5/ServiceMenus/

# 4. ููุฒุงุช ูููุฏูุฒ 11 ุงููุชูุฏูุฉ (ุงูุฌุฏูุฏุฉ)
echo -e "\n${PURPLE}[3/7] ุชูุนูู ููุฒุงุช Snap Layouts ู Widgets...${NC}"
./scripts/win11_advanced_ui.sh

# 5. ุฏุนู ุชุทุจููุงุช ุงูุฃูุฏุฑููุฏ (WSA Alternative)
echo -e "\n${PURPLE}[4/7] ุฅุนุฏุงุฏ ุฏุนู ุชุทุจููุงุช ุงูุฃูุฏุฑููุฏ (Waydroid)...${NC}"
./scripts/android_support.sh

# 6. ุชุฎุตูุต ูุฑูุฒ ุงูุชุญูู ูุงูุฅุดุนุงุฑุงุช
echo -e "\n${PURPLE}[5/7] ุชุฎุตูุต ูุฑูุฒ ุงูุชุญูู ูุงูุฅุดุนุงุฑุงุช...${NC}"
./configs/control_center_setup.sh

# 7. ุฅุตูุงุญุงุช VPN ูุงูุชุญุณููุงุช
echo -e "\n${BLUE}[6/7] ุชุทุจูู ุฅุตูุงุญุงุช VPN ูุงูุชุญุณููุงุช ุงูููุงุฆูุฉ...${NC}"
./scripts/fix_outline_vpn.sh

echo -e "\n${GREEN}=====================================================${NC}"
echo -e "${GREEN}      ๐ ุชู ุงูุงูุชูุงุก ูู ุงูุชุซุจูุช ุงููุทูุฑ ุจูุฌุงุญ! ๐      ${NC}"
echo -e "${BLUE}      ุงุณุชูุชุน ุจุชุฌุฑุจุฉ ูููุฏูุฒ 11 ุงููุชูุฏูุฉ ุนูู ุบุงุฑูุฏุง.      ${NC}"
echo -e "${GREEN}=====================================================${NC}"
